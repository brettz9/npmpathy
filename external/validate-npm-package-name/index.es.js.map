{"version":3,"file":"index.es.js","sources":["../../node_modules/validate-npm-package-name/index.js"],"sourcesContent":["'use strict'\n\nvar scopedPackagePattern = new RegExp('^(?:@([^/]+?)[/])?([^/]+?)$')\nvar builtins = require('builtins')\nvar blacklist = [\n  'node_modules',\n  'favicon.ico'\n]\n\nvar validate = module.exports = function (name) {\n  var warnings = []\n  var errors = []\n\n  if (name === null) {\n    errors.push('name cannot be null')\n    return done(warnings, errors)\n  }\n\n  if (name === undefined) {\n    errors.push('name cannot be undefined')\n    return done(warnings, errors)\n  }\n\n  if (typeof name !== 'string') {\n    errors.push('name must be a string')\n    return done(warnings, errors)\n  }\n\n  if (!name.length) {\n    errors.push('name length must be greater than zero')\n  }\n\n  if (name.match(/^\\./)) {\n    errors.push('name cannot start with a period')\n  }\n\n  if (name.match(/^_/)) {\n    errors.push('name cannot start with an underscore')\n  }\n\n  if (name.trim() !== name) {\n    errors.push('name cannot contain leading or trailing spaces')\n  }\n\n  // No funny business\n  blacklist.forEach(function (blacklistedName) {\n    if (name.toLowerCase() === blacklistedName) {\n      errors.push(blacklistedName + ' is a blacklisted name')\n    }\n  })\n\n  // Generate warnings for stuff that used to be allowed\n\n  // core module names like http, events, util, etc\n  builtins.forEach(function (builtin) {\n    if (name.toLowerCase() === builtin) {\n      warnings.push(builtin + ' is a core module name')\n    }\n  })\n\n  // really-long-package-names-------------------------------such--length-----many---wow\n  // the thisisareallyreallylongpackagenameitshouldpublishdowenowhavealimittothelengthofpackagenames-poch.\n  if (name.length > 214) {\n    warnings.push('name can no longer contain more than 214 characters')\n  }\n\n  // mIxeD CaSe nAMEs\n  if (name.toLowerCase() !== name) {\n    warnings.push('name can no longer contain capital letters')\n  }\n\n  if (/[~'!()*]/.test(name.split('/').slice(-1)[0])) {\n    warnings.push('name can no longer contain special characters (\"~\\'!()*\")')\n  }\n\n  if (encodeURIComponent(name) !== name) {\n    // Maybe it's a scoped package name, like @user/package\n    var nameMatch = name.match(scopedPackagePattern)\n    if (nameMatch) {\n      var user = nameMatch[1]\n      var pkg = nameMatch[2]\n      if (encodeURIComponent(user) === user && encodeURIComponent(pkg) === pkg) {\n        return done(warnings, errors)\n      }\n    }\n\n    errors.push('name can only contain URL-friendly characters')\n  }\n\n  return done(warnings, errors)\n}\n\nvalidate.scopedPackagePattern = scopedPackagePattern\n\nvar done = function (warnings, errors) {\n  var result = {\n    validForNewPackages: errors.length === 0 && warnings.length === 0,\n    validForOldPackages: errors.length === 0,\n    warnings: warnings,\n    errors: errors\n  }\n  if (!result.warnings.length) delete result.warnings\n  if (!result.errors.length) delete result.errors\n  return result\n}\n"],"names":["builtins"],"mappings":"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"}