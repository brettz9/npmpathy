{"version":3,"file":"index.es.js","sources":["../../node_modules/validate-npm-package-name/index.js"],"sourcesContent":["'use strict'\n\nvar scopedPackagePattern = new RegExp('^(?:@([^/]+?)[/])?([^/]+?)$')\nvar builtins = require('builtins')\nvar blacklist = [\n  'node_modules',\n  'favicon.ico'\n]\n\nvar validate = module.exports = function (name) {\n  var warnings = []\n  var errors = []\n\n  if (name === null) {\n    errors.push('name cannot be null')\n    return done(warnings, errors)\n  }\n\n  if (name === undefined) {\n    errors.push('name cannot be undefined')\n    return done(warnings, errors)\n  }\n\n  if (typeof name !== 'string') {\n    errors.push('name must be a string')\n    return done(warnings, errors)\n  }\n\n  if (!name.length) {\n    errors.push('name length must be greater than zero')\n  }\n\n  if (name.match(/^\\./)) {\n    errors.push('name cannot start with a period')\n  }\n\n  if (name.match(/^_/)) {\n    errors.push('name cannot start with an underscore')\n  }\n\n  if (name.trim() !== name) {\n    errors.push('name cannot contain leading or trailing spaces')\n  }\n\n  // No funny business\n  blacklist.forEach(function (blacklistedName) {\n    if (name.toLowerCase() === blacklistedName) {\n      errors.push(blacklistedName + ' is a blacklisted name')\n    }\n  })\n\n  // Generate warnings for stuff that used to be allowed\n\n  // core module names like http, events, util, etc\n  builtins.forEach(function (builtin) {\n    if (name.toLowerCase() === builtin) {\n      warnings.push(builtin + ' is a core module name')\n    }\n  })\n\n  // really-long-package-names-------------------------------such--length-----many---wow\n  // the thisisareallyreallylongpackagenameitshouldpublishdowenowhavealimittothelengthofpackagenames-poch.\n  if (name.length > 214) {\n    warnings.push('name can no longer contain more than 214 characters')\n  }\n\n  // mIxeD CaSe nAMEs\n  if (name.toLowerCase() !== name) {\n    warnings.push('name can no longer contain capital letters')\n  }\n\n  if (/[~'!()*]/.test(name.split('/').slice(-1)[0])) {\n    warnings.push('name can no longer contain special characters (\"~\\'!()*\")')\n  }\n\n  if (encodeURIComponent(name) !== name) {\n    // Maybe it's a scoped package name, like @user/package\n    var nameMatch = name.match(scopedPackagePattern)\n    if (nameMatch) {\n      var user = nameMatch[1]\n      var pkg = nameMatch[2]\n      if (encodeURIComponent(user) === user && encodeURIComponent(pkg) === pkg) {\n        return done(warnings, errors)\n      }\n    }\n\n    errors.push('name can only contain URL-friendly characters')\n  }\n\n  return done(warnings, errors)\n}\n\nvalidate.scopedPackagePattern = scopedPackagePattern\n\nvar done = function (warnings, errors) {\n  var result = {\n    validForNewPackages: errors.length === 0 && warnings.length === 0,\n    validForOldPackages: errors.length === 0,\n    warnings: warnings,\n    errors: errors\n  }\n  if (!result.warnings.length) delete result.warnings\n  if (!result.errors.length) delete result.errors\n  return result\n}\n"],"names":["builtins"],"mappings":"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"}